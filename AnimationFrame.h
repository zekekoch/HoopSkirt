//
//  AnimationFrame.h
//  
//
//  Created by Zeke Koch on 5/25/13.
//
//

#ifndef _AnimationFrame_h
#define _AnimationFrame_h
#include "constants.h"

#include "Segment.h"

//enum SegmentEnum;
static Segment segments[] =
{
    /*** Ring Top ***/
    Segment(RingTopBackCenter,      "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopBackRightInner,  "11111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopBackRightOuter,  "00000000111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopLeft,            "00000000000000011111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopFrontLeftOuter,  "00000000000000000000000000000000000011111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopFrontLeftInner,  "00000000000000000000000000000000000000000001111100000000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopFrontRightInner, "00000000000000000000000000000000000000000000000111111000000000000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopFrontRightOuter, "00000000000000000000000000000000000000000000000000000111111100000000000000000000000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopRight,           "00000000000000000000000000000000000000000000000000000000000011111111111111111111000000000000000000000000000000000000000000000000", RingTop),
    Segment(RingTopBackLeftOuter,   "00000000000000000000000000000000000000000000000000000000000000000000000000000001111111110000000000000000000000000000000000000000", RingTop),
    Segment(RingTopBackLeftInner,   "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111000000000000000000000000000000000", RingTop),
    
    /*** Ring Middle ***/
    Segment(RingMiddleBackCenter,       "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingMiddle),
    Segment(RingMiddleBackRightInner,   "11111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingMiddle),
    Segment(RingMiddleBackRightOuter,   "00001111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingMiddle),
    Segment(RingMiddleLeft,             "00000000000001111111111111111111111111111111100000000000000000000000000000000000000000000000000000000", RingMiddle),
    Segment(RingMiddleFrontLeftInner,   "00000000000000000000000000000000000000000000111111100000000000000000000000000000000000000000000000000", RingMiddle),
    Segment(RingMiddleFrontRightInner,  "00000000000000000000000000000000000000000000000000111111100000000000000000000000000000000000000000000", RingMiddle),
    Segment(RingMiddleRight,            "00000000000000000000000000000000000000000000000000000000011111111111111111111111111111111000000000000", RingMiddle),
    Segment(RingMiddleBackLeftOuter,    "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111110000", RingMiddle),
    Segment(RingMiddleBackLeftInner,    "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111", RingMiddle),
    
    /*** Ring Bottom ***/
    Segment(RingBottomBackCenter,       "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingBottom),
    Segment(RingBottomBackRightInner,   "1111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", RingBottom),
    Segment(RingBottomLeft,             "0000000000111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000", RingBottom),
    Segment(RingBottomRight,            "0000000000000000000000000000000000000000000000000000011111111111111111111111111111111111111111110000000000", RingBottom),
    Segment(RingBottomBackLeftInner,    "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111", RingBottom),
    
    /*** VTop ***/
    // V Top (Center, Left, Right)
    Segment(VTopBackCenter,             "000000000000000000000000000000000000000000000000000000000000000000000000000000000", VTop),
    Segment(VTopRight,                  "111111111111111111111111111111111111111110000000000000000000000000000000000000000", VTop),
    Segment(VTopLeft,                   "000000000000000000000000000000000000000001111111111111111111111111111111111111111", VTop),
    
    /*** VMiddle ***/
    Segment(VMiddleBackCenter,          "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", VMiddle),
    Segment(VMiddleBackLeftLower,       "1111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", VMiddle),
    Segment(VMiddleBackLeftMiddle,      "0000000111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", VMiddle),
    Segment(VMiddleBackLeftUpper,       "0000000000000011111111111111111111111111111111111000000000000000000000000000000000000000000000000000000000000000", VMiddle),
    Segment(VMiddleFrontRightMiddle,    "0000000000000000000000000000000000000000000000000111111100000000000000000000000000000000000000000000000000000000", VMiddle),
    Segment(VMiddleFrontLeftMiddle,     "0000000000000000000000000000000000000000000000000000000011111110000000000000000000000000000000000000000000000000", VMiddle),
    Segment(VMiddleBackRightUpper,      "0000000000000000000000000000000000000000000000000000000000000001111111111111111111111111111111111110000000000000", VMiddle),
    Segment(VMiddleBackRightMiddle,     "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111000000", VMiddle),
    Segment(VMiddleBackRightLower,      "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111", VMiddle),
    
    /*** V Bottom ***/
    Segment(VBottomBackCenter,          "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomBackRightLower,      "1111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomBackRightMiddle,     "0000011111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomBackRightTop,        "0000000000001111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomFrontLeftMiddle,     "0000000000000000000000000000000000111111110000000000000000000000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomFrontLeftLower,      "0000000000000000000000000000000000000000001111111110000000000000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomFrontRightLower,     "0000000000000000000000000000000000000000000000000001111111100000000000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomFrontRightMiddle,    "0000000000000000000000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000000", VBottom),
    Segment(VBottomBackLeftTop,         "0000000000000000000000000000000000000000000000000000000000000000000111111111111111111111100000000000000000000000", VBottom),
    Segment(VBottomBackLeftMiddle,      "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111100000000000000000", VBottom),
    Segment(VBottomBackLeftLower,       "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111", VBottom),
    
    Segment(VStraight,                  "111111111111111111111", Vertical),
    
    Segment(AllOff,                     "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", AllStrands),
    Segment(AllOn,                      "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111", AllStrands),
    
    //TODO: add the vertical strand to this
};


class AnimationFrame
{
private:
    
public:
    Segment segment;
    long timeCode;
    AnimationType animation;
    int color;
    CHSV hsvColor;
    
public:

    AnimationFrame(long time, SegmentEnum s, AnimationType anim, int c)
    {
        timeCode = time;
        segment = segments[s];
        animation = anim;
        color = c;
    }

    AnimationFrame(long time, Segment s, AnimationType anim, int c)
    {
        timeCode = time;
        segment = s;
        animation = anim;
        color = c;
    }
    AnimationFrame(long time, Segment s, AnimationType anim, CHSV c)
    {
        timeCode = time;
        segment = s;
        animation = anim;
        hsvColor = c;
        //Serial.print("creating:");Serial.println(c.h);
    }

    AnimationFrame(long time, SegmentEnum s, AnimationType anim, CHSV c)
    {
        timeCode = time;
        segment = segments[s];
        animation = anim;
        hsvColor = c;
        //Serial.print("creating:");Serial.println(c.h);
    }

    
    String toString()
    {
        String s;
        s += "AF[seg:";
        s += segment.name();
        s += "][strand: ";
        s += segment.strand;
        s += "][time: ";
        s += timeCode;
        s += "][col: ";
        s += color;
        s += "]";
        return s;
    }

};

#endif
